```postgresql
-- 1️⃣ 创建父表（HASH 分区）
CREATE TABLE public.event_user (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY,
    phone BIGINT CHECK (phone >= 0),
    username VARCHAR(255),
    create_time TIMESTAMP(6),
    update_time TIMESTAMP(6),
    avatar TEXT,
    PRIMARY KEY (id)
) PARTITION BY HASH (id);

-- 2️⃣ 创建 32 个 HASH 子分区
DO $$
BEGIN
    FOR i IN 0..31 LOOP
        EXECUTE format('
            CREATE TABLE public.event_user_part_%s PARTITION OF public.event_user
            FOR VALUES WITH (MODULUS 32, REMAINDER %s);
        ', i, i);
    END LOOP;
END$$;

```